{% extends "home/base.html" %}
{% load i18n static %}

{% block body_class %}hold-transition register-page{% endblock %}
{% block body %}
    <div class="register-box">
        <div class="card">
            <div class="card-body register-card-body">
                <div class="text-center font-weight-bolder text-dark h4">
                    <p>회원가입</p>
                </div>        
                <p class="login-box-msg">회원정보를 입력해 주세요.</p>
                {% for field in form %}
                {% if field.errors %}
                <span style = "color:red">{{field.errors}}</span>
                {% endif %}
                {% endfor %}
                
                <form action="{% url 'login:register' %}" method="post" class="needs-validation" onvalidate>
                    {% csrf_token %}
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" name="username" id="username" placeholder="ID" value="{{ form.username.value|default_if_none:'' }}" required>
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <span class="fas fa-user"></span>
                            </div>
                        </div>

                    </div>
                    <div class="input-group mb-3">
                        <input type="password" class="form-control" name="password1" id="password1" placeholder="Password" value="{{ form.password1.value|default_if_none:'' }}" required>
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <span class="fas fa-lock"></span>
                            </div>
                        </div>
                    </div>
                    <div class="input-group mb-3">
                        <input type="password" class="form-control"  name="password2" id="password2" placeholder="Retype password" value="{{ form.password2.value|default_if_none:'' }}" required>
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <span class="fas fa-lock"></span>
                            </div>
                        </div>
                    </div>
                    <div class="input-group mb-3">
                        <input type="email" class="form-control" name="email" id="email" placeholder="E-mail" value="{{ form.email.value|default_if_none:'' }}" required>
                        <div class="input-group-append">
                            <div class="input-group-text">
                                <span class="fas fa-envelope"></span>
                            </div>
                        </div>
                    </div>
                    <div class="icheck-primary">
                        <input type="checkbox" id="agreeTerms" name="terms" value="agree">
                        <label for="agreeTerms">
                            <a href="#">약관</a>에 동의해 주세요.
                        </label>
                    </div>
                    <div class="row mt-3 mb-3">
                        <div class="col-12">
                            <button type="submit" class="btn btn-primary btn-block font-weight-bold">회원가입</button>
                        </div>
                    </div>
                </form>

                <div class="row border-top mt-3 pt-2">
                    <a href="{% url 'login:login' %}" class="col-6 text-center border-right">로그인</a>
                    <a href="{% url 'login:password_reset' %}" class="col-6 text-center">비밀번호 초기화</a>
                </div>
            </div>
            <!-- /.form-box -->
        </div>
        <!-- /.card -->
    </div>
    <!-- /.register-box -->
{% endblock %}
